{"version":3,"sources":["../src/app.js"],"names":["Ariel","setListeners","screen","document","querySelector","message","input","microphone","container","window","addEventListener","event","preventDefault","target","style","cssText","getSpeech","speechBubbles","querySelectorAll","recognition","webkitSpeechRecognition","selfie","onresult","sendSpeech","results","start","msg","json","JSON","stringify","console","log","xhr","XMLHttpRequest","url","open","onreadystatechange","readyState","status","responseText","send","ariel"],"mappings":";;;;;;IAAMA,K;AACJ,mBAAc;AAAA;;AACZ,SAAKC,YAAL;AACD;;;;mCACc;AAAA;;AACd,UAAMC,SAASC,SAASC,aAAT,CAAuB,SAAvB,CAAf;AACC,UAAMC,UAAUF,SAASC,aAAT,CAAuB,UAAvB,CAAhB;AACA,UAAME,QAAQH,SAASC,aAAT,CAAuB,iBAAvB,CAAd;AACA,UAAMG,aAAaJ,SAASC,aAAT,CAAuB,kBAAvB,CAAnB;AACA,UAAMI,YAAYL,SAASC,aAAT,CAAuB,4BAAvB,CAAlB;;AAEAK,aAAOC,gBAAP,CAAwB,YAAxB,EAAsC,UAACC,KAAD,EAAW;AAC/CA,cAAMC,cAAN;;AAEA,YAAID,MAAME,MAAN,KAAiBN,UAArB,EAAiC;AAChCL,iBAAOY,KAAP,CAAaC,OAAb,GAAuB,+CAAvB;AACCP,oBAAUM,KAAV,CAAgBC,OAAhB,GAA0B,gBAA1B;AACA,gBAAKC,SAAL;AACD;AACF,OARD;;AAUAP,aAAOC,gBAAP,CAAwB,UAAxB,EAAoC,UAACC,KAAD,EAAW;AAC7CA,cAAMC,cAAN;;AAEA,YAAID,MAAME,MAAN,KAAiBN,UAArB,EAAiC;AAChCL,iBAAOY,KAAP,CAAaC,OAAb,GAAuB,qBAAvB;AACCP,oBAAUM,KAAV,CAAgBC,OAAhB,GAA0B,eAA1B;AACD;AACF,OAPD;AAQD;;;gCACW;AACV,UAAME,gBAAgBd,SAASe,gBAAT,CAA0B,mCAA1B,CAAtB;;AAEAD,oBAAc,CAAd,EAAiBH,KAAjB,CAAuBC,OAAvB,GAAiC,kCAAjC;AACAE,oBAAc,CAAd,EAAiBH,KAAjB,CAAuBC,OAAvB,GAAiC,kCAAjC;AACAE,oBAAc,CAAd,EAAiBH,KAAjB,CAAuBC,OAAvB,GAAiC,kCAAjC;AACAE,oBAAc,CAAd,EAAiBH,KAAjB,CAAuBC,OAAvB,GAAiC,kCAAjC;;AAEA,UAAII,cAAc,IAAIC,uBAAJ,EAAlB;AAAA,UACEC,SAAS,IADX;AAEAF,kBAAYG,QAAZ,GAAuB,UAASX,KAAT,EAAgB;AACrCU,eAAOE,UAAP,CAAkBZ,MAAMa,OAAN,CAAc,CAAd,EAAiB,CAAjB,EAAoB,YAApB,CAAlB;AACD,OAFD;AAGAL,kBAAYM,KAAZ;AAED;;;+BACUC,G,EAAK;AACd,UAAMC,OAAOC,KAAKC,SAAL,CAAe,kBAAkBH,GAAlB,GAAwB,GAAvC,CAAb;AACAI,cAAQC,GAAR,CAAYJ,IAAZ;;AAEA,UAAIK,MAAM,IAAIC,cAAJ,EAAV;AAAA,UACEC,MAAM,0BADR;;AAGAF,UAAIG,IAAJ,CAAS,MAAT,EAAiBD,GAAjB,EAAsB,IAAtB;;AAEAF,UAAII,kBAAJ,GAAyB,YAAW;AAClC,YAAIJ,IAAIK,UAAJ,IAAkB,CAAlB,IAAuBL,IAAIM,MAAJ,IAAc,GAAzC,EAA8C;AAC5CR,kBAAQC,GAAR,CAAYC,IAAIO,YAAhB;AACD;AACF,OAJD;;AAMAP,UAAIQ,IAAJ;AACD;;;;;;AAIH,CAAC,YAAW;AACV,MAAIC,QAAQ,IAAIzC,KAAJ,EAAZ;AACD,CAFD","file":"app.js","sourcesContent":["class Ariel {\n  constructor() {\n    this.setListeners();\n  }\n  setListeners() {\n  \tconst screen = document.querySelector('.screen');\n    const message = document.querySelector('.message');\n    const input = document.querySelector('.message__input');\n    const microphone = document.querySelector('.message__speech');\n    const container = document.querySelector('.screen__container--listen');\n\n    window.addEventListener('touchstart', (event) => {\n      event.preventDefault();\n\n      if (event.target === microphone) {\n      \tscreen.style.cssText = 'background: linear-gradient(#1EC7AC, #3AB8C8)';\n        container.style.cssText = 'display: table';\n        this.getSpeech();\n      }\n    });\n\n    window.addEventListener('touchend', (event) => {\n      event.preventDefault();\n\n      if (event.target === microphone) {\n      \tscreen.style.cssText = 'background: #EBEDF1';\n        container.style.cssText = 'display: none';\n      }\n    });\n  }\n  getSpeech() {\n    const speechBubbles = document.querySelectorAll('.screen__container--listen > span');\n\n    speechBubbles[0].style.cssText = 'animation: sound-1 1.4s infinite';\n    speechBubbles[1].style.cssText = 'animation: sound-2 1.4s infinite';\n    speechBubbles[2].style.cssText = 'animation: sound-1 1.4s infinite';\n    speechBubbles[3].style.cssText = 'animation: sound-2 1.4s infinite';\n\n    let recognition = new webkitSpeechRecognition(),\n    \t\tselfie = this;\n    recognition.onresult = function(event) {\n      selfie.sendSpeech(event.results[0][0]['transcript']);\n    }\n    recognition.start();\n\n  }\n  sendSpeech(msg) {\n    const json = JSON.stringify('{ \"response\":' + msg + '}');\n    console.log(json);\n\n    let xhr = new XMLHttpRequest(),\n      url = 'https://10.1.1.142:5000/';\n\n    xhr.open('POST', url, true);\n\n    xhr.onreadystatechange = function() {\n      if (xhr.readyState == 4 && xhr.status == 200) {\n        console.log(xhr.responseText);\n      }\n    }\n\n    xhr.send();\n  }\n}\n\n\n(function() {\n  var ariel = new Ariel;\n})();\n"]}